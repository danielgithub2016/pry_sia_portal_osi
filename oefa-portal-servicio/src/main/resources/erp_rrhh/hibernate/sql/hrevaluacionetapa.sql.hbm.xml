<?xml version="1.0" encoding="UTF-8"?>
<!-- * * @author : desarrollo * @powerbuilder : rrhh.hrevaluacionetapa -->
<!DOCTYPE hibernate-mapping PUBLIC "-//Hibernate/Hibernate Mapping DTD 3.0//EN"
"http://hibernate.sourceforge.net/hibernate-mapping-3.0.dtd">
<hibernate-mapping>
	<sql-query name="hrevaluacionetapa.dwhrrequerimientoevaletapasedit">
        <![CDATA[
        	SELECT  
				HR_EVALUACIONETAPA.REQUERIMIENTO AS "requerimiento",
				HR_EVALUACIONETAPA.SECUENCIA  AS "secuencia",
				HR_EVALUACIONETAPA.SECUENCIA_2  AS "secuencia2",
				HR_EVALUACIONETAPA.COMPANYOWNER  AS "companyowner",
				HR_EVALUACIONETAPA.POSTULANTE  AS "postulante",
				HR_EVALUACIONETAPA.ESTADO AS "estado",
				HR_EVALUACIONETAPA.FLAGINCORPORACION AS "flagincorporacion",
				(SELECT HR_EVALUACION.DESCRIPCION
				FROM SGCORESYS.HR_EVALUACION
				WHERE HR_EVALUACION.EVALUACION = HR_EVALREQUERIMIENTO.EVALUACION) AS "descripcioneval",
				(SELECT HR_PUESTOEMPRESA.DESCRIPCION
				FROM SGCORESYS.HR_PUESTOEMPRESA
				WHERE HR_PUESTOEMPRESA.CODIGOPUESTO = HR_EVALREQUERIMIENTO_2.CODIGOPUESTO) AS "descripcionpuesto",
				HR_EVALUACIONETAPA.ULTIMOUSUARIO AS "ultimousuario", 
				HR_EVALUACIONETAPA.ULTIMAFECHAMODIF AS "ultimafechamodif",
				HR_EVALUACIONETAPA.OBSERVACIONES AS "observaciones",
				HR_EVALUACIONETAPA.OBSERVACIONFINETAPA AS "observacionfinetapa"
				FROM 
				        SGCORESYS.HR_EVALUACIONETAPA
				LEFT JOIN SGCORESYS.HR_EVALREQUERIMIENTO ON
				  ( HR_EVALUACIONETAPA.REQUERIMIENTO    = HR_EVALREQUERIMIENTO.REQUERIMIENTO ) AND
				  ( HR_EVALUACIONETAPA.SECUENCIA         = HR_EVALREQUERIMIENTO.SECUENCIA ) AND 
				  ( HR_EVALUACIONETAPA.COMPANYOWNER    = HR_EVALREQUERIMIENTO.COMPANYOWNER )
				LEFT JOIN SGCORESYS.HR_EVALREQUERIMIENTO_2 ON
				  ( HR_EVALUACIONETAPA.REQUERIMIENTO    = HR_EVALREQUERIMIENTO_2.REQUERIMIENTO ) AND
				  ( HR_EVALUACIONETAPA.SECUENCIA         = HR_EVALREQUERIMIENTO_2.SECUENCIA ) AND 
				  ( HR_EVALUACIONETAPA.SECUENCIA_2         = HR_EVALREQUERIMIENTO_2.SECUENCIA_2 ) AND 
				  ( HR_EVALUACIONETAPA.COMPANYOWNER    = HR_EVALREQUERIMIENTO_2.COMPANYOWNER )
				WHERE 
				  ( HR_EVALUACIONETAPA.COMPANYOWNER = :par_companyowner ) AND       
				  ( HR_EVALUACIONETAPA.REQUERIMIENTO = :par_requerimiento )
        ]]>
	</sql-query>
</hibernate-mapping>
